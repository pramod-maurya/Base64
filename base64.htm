<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>index</title>
		<meta name="description" content="">
		<meta name="author" content="Mahadev">

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<script type="text/javascript" src="jquery.min.js"></script>
	</head>

	<body>
		<div>
			<header>
				<h1>index</h1>
			</header>
			<nav>
				<p>
					<a href="/">Home</a>
				</p>
				<p>
					<a href="/contact">Contact</a>
				</p>
			</nav>

			<div>
				<div>
					<label for="filePicker">Choose or drag a file:</label>
					<br>
					<input type="file" id="filePicker">
				</div>
				
				<div>
					<input type="button" id="filebutton" value="Submit">
				</div>
				<br>
				<div>
					<h1>Base64 encoded version</h1>
					<textarea id="base64textarea" placeholder="Base64 will appear here" cols="50" rows="15"></textarea>
				</div>
			</div>

			<footer>
				<p>
					&copy; Copyright  by Mahadev
				</p>
			</footer>
		</div>
		<script>
			var handleFileSelect = function(evt) {
				var files = $('#filePicker');
				var file = files[0].files[0];

				if (files && file) {
					var reader = new FileReader();

					reader.onload = function(readerEvt) {
						var binaryString = readerEvt.target.result;
						var sss =  btoa(binaryString);
						document.getElementById("base64textarea").value = sss; 
						console.log(sss);
					};

					reader.readAsBinaryString(file);
				}
			};

			if (window.File && window.FileReader && window.FileList && window.Blob) {
				document.getElementById('filebutton').addEventListener('click', handleFileSelect, false);
			} else {
				alert('The File APIs are not fully supported in this browser.');
			}
		</script>
	</body>
</html>
